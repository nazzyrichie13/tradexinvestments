<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TradeXinvest</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>



 <style>
  body { margin:0; font-family: Arial, sans-serif; }
  .nav { display:flex; justify-content:space-between; align-items:center; padding:10px 20px; background:#f0f0f0; position:relative; z-index:10; }
  .logo { font-weight:bold; font-size:1.5rem; }
  #authLinks a, #authLinks button { margin-left:5px; cursor:pointer; }
  .lowerNAV { display:none; cursor:pointer; padding:10px; }
  .mobile-menu { display:none; list-style:none; padding:10px; background:#eee; position:absolute; top:60px; left:0; width:100%; z-index:9; }
  .mobile-menu.show { display:block; }
  .mobile-menu li { margin:10px 0; }
  .mobile-menu a { text-decoration:none; color:#000; font-weight:600; }

  /* Welcome note + quotes */
  #welcomeNote, #quotes {  text-align:center; height:100px; width: 100%; margin:20px 0; }
  #welcomeNote img, #quotes p { opacity:0;   transition:opacity 0.5s ease-in-out;  }
  #welcomeNote img.active, #quotes p.active { opacity:1; }

  /* Testimonials */
  .testimonials-section { max-width:900px; margin:2rem auto; padding:0 1rem; }
  .testimonials-container { display:flex; flex-wrap:wrap; gap:1.5rem; justify-content:center; }
  .testimonial-box { background:#f9f9f9; border-radius:8px; padding:1.5rem; flex:1 1 280px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
  .testimonial-box p { font-size:1.1rem; color:#555; margin:1rem 0 0.8rem; }
  .testimonial-box h4 { color:#555; font-weight:600; margin:0; }
  .stars { font-size:1.3rem; color:#f5a623; user-select:none; }
  .stars span { letter-spacing:2px; }

  /* Profile/dashboard */
  .profile-info { display:flex; align-items:center; gap:12px; margin-bottom:20px; }
  .profile-info img { width:60px; height:60px; border-radius:50%; object-fit:cover; border:2px solid #ddd; box-shadow:0 2px 6px rgba(0,0,0,0.1); }

  /* Overlay + modals */
  .overlay { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:100; }
  .modal { display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#fff; padding:20px; border-radius:10px; z-index:101; box-shadow:0 0 10px rgba(0,0,0,0.3); transition: all 0.3s ease; max-width:400px; width:90%; }
  .modal.show { display:block; }

  /* Hero */
  .hero-section { display:flex; flex-wrap:wrap; justify-content:center; align-items:center; padding:2rem; gap:2rem; background:#f0f0f0; }
  .hero-content { max-width:500px; }
  .hero-content h1 { font-size:2rem; margin-bottom:10px; }
  .hero-buttons a { margin-right:10px; padding:10px 20px; border-radius:5px; text-decoration:none; color:#fff; }
  .btn-primary { background:#007bff; }
  .btn-secondary { background:#6c757d; }

  /* Features/Why sections */
  .features-section, .why-section { padding:2rem 1rem; text-align:center; }
  .features-container, .why-container { display:flex; flex-wrap:wrap; gap:1.5rem; justify-content:center; }
  .feature-box, .why-box { background:#f9f9f9; padding:1rem; border-radius:8px; flex:1 1 250px; }
  .feature-box i, .why-box i { font-size:2rem; margin-bottom:10px; }

  /* CTA */
  .cta-section { text-align:center; padding:2rem; background:#007bff; color:#fff; }
  .cta-btn { display:inline-block; padding:10px 20px; background:#ffc107; color:#000; text-decoration:none; border-radius:5px; margin-top:10px; }

  /* Chat */
  .chat-widget { position:fixed; bottom:20px; right:20px; width:250px; border:1px solid #ccc; border-radius:5px; background:#fff; display:flex; flex-direction:column; z-index:102; }
  .chat-header { background:#007bff; color:#fff; padding:10px; border-top-left-radius:5px; border-top-right-radius:5px; font-weight:bold; }
  .chat-body { flex:1; padding:10px; overflow-y:auto; max-height:200px; }
  .chat-body .message { margin-bottom:10px; padding:5px 10px; border-radius:5px; }
  .chat-body .admin { background:#f1f1f1; text-align:left; }
  #chatForm { display:flex; padding:5px; }
  #chatInput { flex:1; padding:5px; }
  #chatForm button { padding:5px 10px; }

  /* Footer */
  .site-footer { background:#222; color:#fff; padding:2rem; text-align:center; }
  .site-footer a { color:#ffc107; text-decoration:none; }
 </style>
  
</head>
<body>

<!-- NAV -->
<div class="nav">
  <p class="logo">TradeXInvest</p>
  <div id="authLinks">
    <a href="signup.html">Sign up</a> /
    <button id="loginBtn">Login</button>
  </div>
</div>

<div class="lowerNAV" onclick="toggleMobileNav()">
  <div style="display:flex; flex-direction:column; gap:4px;">
    <span style="width:30px; height:4px; background:black;"></span>
    <span style="width:30px; height:4px; background:black;"></span>
    <span style="width:30px; height:4px; background:black;"></span>
  </div>
</div>

<ul class="mobile-menu" id="mobileMenu">
  <li><a href="index.html">Home</a></li>
  <li><a href="about.html">About Us</a></li>
  <li><a href="contact.html">Contact</a></li>
</ul>

<!-- Welcome Note + Quotes -->
<div id="welcomeNote">
  <img src="images/photo 5.avif" alt="img" />
  <img src="images/stock 1.webp" alt="img" />
  <img src="images/photo 7.avif" alt="img" />
  <img src="images/photo-1749741326969-e1676b3bce43.avif" alt="img" />
</div>
<div id="quotes">
  <p>WELCOME TO TRADEX</p>
  <p>"Do not save what is left after spending, but spend what is left after saving."</p>
  <p>"An investment in knowledge pays the best interest."</p>
  <p>"Successful investing is about managing risk, not avoiding it."</p>
</div>

<div id="overlay" class="overlay"></div>

<!-- LOGIN MODAL -->
<div id="loginForm" class="modal">
  <h2>Login</h2>
  <input type="email" id="loginEmail" placeholder="Email"><br><br>
  <input type="password" id="loginPassword" placeholder="Password"><br><br>
  <button id="loginSubmit">Submit</button>
  <button id="closeLogin">Close</button>
</div>

<!-- TERMS POPUP -->
<div id="termsPopup" class="modal"> 
  <h3>Terms & Conditions</h3> 
  <p>Welcome to TradexInvest. By using our services, you agree to the following terms:</p>
  <ul>
    <li><strong>2FA recommended</strong></li>
    <li><strong>Cold storage</strong></li>
    <li><strong>Encryption</strong></li>
  </ul>
  <p>Fees: Deposit 0%, Withdrawal 1.5%, Trading 0.25%</p>
  <p>High-risk investment. By continuing, you accept our Terms & Privacy.</p>
  <button id="acceptTermsBtn">Accept</button> 
</div>

<!-- 2FA POPUP -->
<div id="twoFAPopup" class="modal">
  <p id="countdown">Code expires in: 5:00</p>
  <input id="twoFAInput" placeholder="Enter 2FA code">
  <button id="verify2FABtn">Verify</button>
  <button id="resend2FABtn">Resend Code</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="modal">
  <img id="dashboardPhoto" style="display:none;width:50px;height:50px;">
  <h2 id="dashboardName"></h2>
  <p id="dashboardEmail"></p>
  <p>Investment: $<span id="dashboardInvestment"></span></p>
  <p>Profit: $<span id="dashboardProfit"></span></p>
  <p>Total Interest: $<span id="dashboardInterest"></span></p>
  <button id="depositBtn">Deposit</button>
  <button id="withdrawBtn">Withdraw</button>
  <button id="logoutBtn">Logout</button>
</div>

<!-- DEPOSIT MODAL -->
<div id="depositModal" class="modal">
  <input id="depositAmount" placeholder="Amount">
  <button id="submitDeposit">Deposit</button>
  <button id="closeDeposit">Close</button>
</div>

<!-- WITHDRAW MODAL -->
<div id="withdrawModal" class="modal">
  <input id="withdrawAmount" placeholder="Amount">
  <select id="withdrawMethod">
    <option value="paypal">PayPal</option>
    <option value="bitcoin">Bitcoin</option>
    <option value="cashapp">CashApp</option>
    <option value="bank">Bank-to-Bank</option>
  </select>
  <button id="submitWithdraw">Withdraw</button>
  <button id="closeWithdraw">Close</button>
</div>

<!-- TESTIMONIALS -->
<section id="testimonials" class="testimonials-section">
  <h2>What Our Investors Say......</h2>
  <div class="testimonials-container">
    <div class="testimonial-box">
      <div class="stars"><span>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</span></div>
      <p>"TradeXInvest helped me grow my savings steadily. The dashboard is simple, and the support team is amazing!"</p>
      <h4>‚Äî Sarah U., Australia</h4>
    </div>
    <div class="testimonial-box">
      <div class="stars"><span>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</span></div>
      <p>"I was skeptical at first, but now I‚Äôm earning consistent interest on my investment. I recommend it 100%!"</p>
      <h4>‚Äî James Eudardo., Brazil</h4>
    </div>
    <div class="testimonial-box">
      <div class="stars"><span>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</span></div>
      <p>"What I love is the transparency. I see my profits in real time and the withdrawals are smooth."</p>
      <h4>‚Äî Anita O., New Jersey</h4>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta-section">
  <h2>Ready to Grow Your Wealth?</h2>
  <p>Join thousands of investors earning passive income with TradeXInvest.</p>
  <a href="sign up.html" class="cta-btn">Get Started Now</a>
</section>

<!-- Chat -->
<div id="chatWidget" class="chat-widget">
  <div class="chat-header">üí¨ Chat With Us</div>
  <div class="chat-body" id="chatBody">
    <div class="message admin">Hi TradeX üëã, want help choosing the best plan?</div>
  </div>
  <form id="chatForm">
    <input type="text" id="chatInput" placeholder="Type your message..." autocomplete="off" />
    <button type="submit">Send</button>
  </form>
</div>

<!-- Footer -->
<footer class="site-footer">
  <div class="footer-content">
    <h2>TradeXInvest</h2>
    <p>Secure and smart investment platform to grow your wealth.</p>
    <p><i class="fas fa-envelope"></i> <a href="mailto:support@tradexinvest.com">support@tradexinvest.com</a></p>
    <p><i class="fas fa-phone"></i> <a href="https://wa.me/+13137768220">+13137768220</a></p>
    <p><i class="fas fa-paper-plane"></i> <a href="contact.html">Send Us a Message</a></p>
    <div> <a href="security.html">Security & Protection</a></div>
    <p class="copyright">&copy; 2025 TradeXInvest. All rights reserved.</p>
  </div>
</footer>

<script>
const backendUrl = "https://tradexinvestments.onrender.com";
let countdownTimer;

// --- Mobile Nav ---
function toggleMobileNav() {
  const menu = document.getElementById('mobileMenu');
  menu.classList.toggle('show');
}

// --- Login ---
const loginBtn = document.getElementById("loginBtn");
const loginForm = document.getElementById("loginForm");
const overlay = document.getElementById("overlay");
loginBtn.addEventListener("click",()=>{ loginForm.style.display="block"; overlay.style.display="block"; });
document.getElementById("closeLogin").onclick = ()=>{ loginForm.style.display="none"; overlay.style.display="none"; };
overlay.addEventListener("click",()=>{ loginForm.style.display="none"; overlay.style.display="none"; document.getElementById("termsPopup").style.display="none"; document.getElementById("twoFAPopup").style.display="none"; document.getElementById("dashboard").style.display="none"; document.getElementById("depositModal").style.display="none"; document.getElementById("withdrawModal").style.display="none"; });

// --- Terms ---
document.getElementById("acceptTermsBtn").onclick=()=>{
  localStorage.setItem("termsAccepted","true");
  document.getElementById("termsPopup").style.display="none";
  show2FAPopup();
};

// --- 2FA ---
function show2FAPopup(){
  const popup=document.getElementById("twoFAPopup");
  popup.style.display="block"; overlay.style.display="block";
  startCountdown();
  document.getElementById("verify2FABtn").onclick=async()=>{
    const code=document.getElementById("twoFAInput").value.trim();
    const user=JSON.parse(localStorage.getItem("currentUser"));
    if(!code) return alert("Enter 2FA code");
    try{
      const res=await fetch(`${backendUrl}/api/auth/verify-2fa`,{ method:"POST", headers:{"Content-Type":"application/json"}, body:JSON.stringify({code,tempToken:user.tempToken}) });
      const data=await res.json();
      if(!res.ok) throw new Error(data.msg);
      localStorage.setItem("twoFAVerified","true"); localStorage.setItem("jwtToken",data.token);
      popup.style.display="none"; overlay.style.display="none"; clearInterval(countdownTimer); document.getElementById("twoFAInput").value="";
      showUserDashboard(user);
    }catch(err){ alert(err.message); }
  };
  document.getElementById("resend2FABtn").onclick=async()=>{
    const user=JSON.parse(localStorage.getItem("currentUser"));
    try{
      const res=await fetch(`${backendUrl}/api/auth/resend-2fa`,{ method:"POST", headers:{"Content-Type":"application/json"}, body:JSON.stringify({email:user.email}) });
      const data=await res.json(); alert(data.msg); document.getElementById("twoFAInput").value=""; startCountdown();
    }catch(err){ alert(err.message); }
  };
}
function startCountdown(duration=300){
  clearInterval(countdownTimer);
  const el=document.getElementById("countdown");
  let timeLeft=duration;
  el.textContent=`Code expires in: ${formatTime(timeLeft)}`;
  document.getElementById("verify2FABtn").disabled=false;
  countdownTimer=setInterval(()=>{
    timeLeft--; el.textContent=`Code expires in: ${formatTime(timeLeft)}`;
    if(timeLeft<=0){ clearInterval(countdownTimer); el.textContent="Code expired. Please resend."; document.getElementById("verify2FABtn").disabled=true; }
  },1000);
}
function formatTime(sec){ return `${Math.floor(sec/60)}:${sec%60<10?"0"+sec%60:sec%60}`; }

// --- Dashboard ---
function showUserDashboard(user){
  const dash=document.getElementById("dashboard");
  document.getElementById("dashboardName").textContent=`Welcome, ${user.name}`;
  document.getElementById("dashboardEmail").textContent=`Email: ${user.email}`;
  if(user.photo){ document.getElementById("dashboardPhoto").src=user.photo; document.getElementById("dashboardPhoto").style.display="block"; }
  document.getElementById("dashboardInvestment").textContent=user.investment||0;
  document.getElementById("dashboardProfit").textContent=user.profit||0;
  document.getElementById("dashboardInterest").textContent=user.interest||0;
  dash.style.display="block"; overlay.style.display="block";
}

// --- Deposit ---
const depositBtn=document.getElementById("depositBtn");
const depositModal=document.getElementById("depositModal");
depositBtn.onclick=()=>{ depositModal.style.display="block"; overlay.style.display="block"; };
document.getElementById("closeDeposit").onclick=()=>{ depositModal.style.display="none"; overlay.style.display="none"; };
document.getElementById("submitDeposit").onclick=async()=>{
  const amount=parseFloat(document.getElementById("depositAmount").value);
  if(!amount || amount<=0) return alert("Enter a valid deposit amount");
  const token=localStorage.getItem("jwtToken");
  try{
    const res=await fetch(`${backendUrl}/api/deposit`,{
      method:"POST",
      headers:{ "Content-Type":"application/json", "Authorization":`Bearer ${token}` },
      body:JSON.stringify({amount})
    });
    const data=await res.json();
    if(!res.ok) throw new Error(data.msg);
    alert("Deposit successful!"); depositModal.style.display="none"; overlay.style.display="none"; document.getElementById("depositAmount").value="";
  }catch(err){ alert(err.message); }
};

// --- Withdraw ---
const withdrawBtn=document.getElementById("withdrawBtn");
const withdrawModal=document.getElementById("withdrawModal");
withdrawBtn.onclick=()=>{ withdrawModal.style.display="block"; overlay.style.display="block"; };
document.getElementById("closeWithdraw").onclick=()=>{ withdrawModal.style.display="none"; overlay.style.display="none"; };
document.getElementById("submitWithdraw").onclick=async()=>{
  const amount=parseFloat(document.getElementById("withdrawAmount").value);
  const method=document.getElementById("withdrawMethod").value;
  if(!amount || amount<=0) return alert("Enter a valid withdraw amount");
  if(method==="bank") return alert("Bank-to-Bank withdraw not supported. Contact support@tradexinvest.com");
  const token=localStorage.getItem("jwtToken");
  try{
    const res=await fetch(`${backendUrl}/api/withdraw`,{
      method:"POST",
      headers:{ "Content-Type":"application/json", "Authorization":`Bearer ${token}` },
      body:JSON.stringify({amount,method})
    });
    const data=await res.json();
    if(!res.ok) throw new Error(data.msg);
    alert("Withdrawal successful!"); withdrawModal.style.display="none"; overlay.style.display="none"; document.getElementById("withdrawAmount").value="";
  }catch(err){ alert(err.message); }
};

// --- Logout ---
document.getElementById("logoutBtn").onclick=()=>{
  localStorage.removeItem("jwtToken");
  localStorage.removeItem("currentUser");
  localStorage.removeItem("twoFAVerified");
  document.getElementById("dashboard").style.display="none"; overlay.style.display="none";
  alert("Logged out successfully!");
};

// --- Chat ---
const chatForm=document.getElementById("chatForm");
const chatInput=document.getElementById("chatInput");
const chatBody=document.getElementById("chatBody");
chatForm.addEventListener("submit",e=>{ e.preventDefault();
  if(!chatInput.value) return;
  const msg=document.createElement("div"); msg.className="message"; msg.textContent=chatInput.value;
  chatBody.appendChild(msg); chatInput.value=""; chatBody.scrollTop=chatBody.scrollHeight;
});

// --- Welcome Note & Quotes Slider ---
const welcomeImages=document.querySelectorAll("#welcomeNote img");
const quotes=document.querySelectorAll("#quotes p");
let currentIndex=0;
function showSlide(index){
  welcomeImages.forEach(img=>img.classList.remove("active"));
  quotes.forEach(q=>q.classList.remove("active"));
  welcomeImages[index].classList.add("active");
  quotes[index].classList.add("active");
}
setInterval(()=>{
  currentIndex=(currentIndex+1)%welcomeImages.length;
  showSlide(currentIndex);
},4000);
showSlide(currentIndex);
</script>

</body>
</html>
